{"ast":null,"code":"var _jsxFileName = \"D:\\\\WorkSpace\\\\Website\\\\ISI-Group6-Sunset\\\\Full_Stack_Ecommerce\\\\admin\\\\src\\\\Components\\\\AddProduct\\\\AddProduct.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./AddProduct.css\";\nimport upload_area from \"../Assets/upload_area.svg\";\nimport { backend_url } from \"../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddProduct = () => {\n  _s();\n  const [image, setImage] = useState(false);\n  const [isConfigurable, setIsConfigurable] = useState(false);\n  const [attributes, setAttributes] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [skus, setSkus] = useState([]);\n  const [newAttribute, setNewAttribute] = useState({\n    attributeName: \"\",\n    details: \"\"\n  });\n  const [newOption, setNewOption] = useState({\n    option_name: \"\",\n    values: \"\"\n  });\n  const [productDetails, setProductDetails] = useState({\n    name: \"\",\n    description: \"\",\n    image: \"\",\n    category: \"women\",\n    new_price: \"\",\n    old_price: \"\",\n    isConfigurable: false,\n    categoryID: 1\n  });\n  const addAttribute = () => {\n    if (newAttribute.attributeName.trim() === \"\") return;\n    setAttributes([...attributes, {\n      attributeName: newAttribute.attributeName,\n      details: newAttribute.details\n    }]);\n    setNewAttribute({\n      attributeName: \"\",\n      details: \"\"\n    });\n  };\n  const addOption = () => {\n    if (newOption.option_name.trim() === \"\") return;\n    // 将逗号分隔的值转换为数组\n    const valuesArray = newOption.values.split(',').map(val => val.trim());\n    setOptions([...options, {\n      option_name: newOption.option_name,\n      values: valuesArray\n    }]);\n    setNewOption({\n      option_name: \"\",\n      values: \"\"\n    });\n  };\n  const generateSkus = () => {\n    // 只处理有值的选项\n    const validOptions = options.filter(option => option.values.length > 0);\n    if (validOptions.length === 0) {\n      alert(\"请先添加选项和值\");\n      return;\n    }\n\n    // 递归生成所有可能的组合\n    const generateCombinations = (optionIndex = 0, currentCombination = {}) => {\n      if (optionIndex >= validOptions.length) {\n        // 基本价格使用主产品价格\n        const basePrice = parseFloat(productDetails.new_price) || 0;\n        setSkus(prev => [...prev, {\n          configurable_values: {\n            ...currentCombination\n          },\n          sku_code: `SKU-${skus.length + 1}`,\n          inventory_status: \"in_stock\",\n          quantity: 0,\n          price: basePrice,\n          image_url: \"\"\n        }]);\n        return;\n      }\n      const currentOption = validOptions[optionIndex];\n      for (const value of currentOption.values) {\n        const newCombination = {\n          ...currentCombination\n        };\n        newCombination[currentOption.option_name] = value;\n        generateCombinations(optionIndex + 1, newCombination);\n      }\n    };\n\n    // 清空当前SKUs并生成新的\n    setSkus([]);\n    generateCombinations();\n  };\n  const updateSkuField = (index, field, value) => {\n    const updatedSkus = [...skus];\n    updatedSkus[index][field] = value;\n    setSkus(updatedSkus);\n  };\n  const removeAttribute = index => {\n    const newAttributes = [...attributes];\n    newAttributes.splice(index, 1);\n    setAttributes(newAttributes);\n  };\n  const removeOption = index => {\n    const newOptions = [...options];\n    newOptions.splice(index, 1);\n    setOptions(newOptions);\n  };\n  const removeSku = index => {\n    const newSkus = [...skus];\n    newSkus.splice(index, 1);\n    setSkus(newSkus);\n  };\n  const changeHandler = e => {\n    setProductDetails({\n      ...productDetails,\n      [e.target.name]: e.target.value\n    });\n  };\n  const toggleConfigurable = () => {\n    setIsConfigurable(!isConfigurable);\n    setProductDetails({\n      ...productDetails,\n      isConfigurable: !isConfigurable\n    });\n  };\n  const AddProduct = async () => {\n    let dataObj;\n    let product = {\n      ...productDetails\n    };\n\n    // 处理图片上传\n    if (image) {\n      let formData = new FormData();\n      formData.append('product', image);\n      await fetch(`${backend_url}/api/upload`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json'\n        },\n        body: formData\n      }).then(resp => resp.json()).then(data => {\n        dataObj = data;\n      });\n      if (dataObj.success) {\n        product.image = dataObj.image_url;\n      } else {\n        alert(\"Image upload failed\");\n        return;\n      }\n    } else {\n      alert(\"Please select an image\");\n      return;\n    }\n\n    // 如果是可配置产品，添加属性、选项和SKU\n    if (isConfigurable) {\n      product.attributes = attributes;\n      product.options = options;\n      product.skus = skus;\n    }\n\n    // 发送产品数据到后端\n    try {\n      const response = await fetch(`${backend_url}/api/products/add`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(product)\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert(\"Product Added Successfully\");\n\n        // 重置表单\n        setProductDetails({\n          name: \"\",\n          description: \"\",\n          image: \"\",\n          category: \"women\",\n          new_price: \"\",\n          old_price: \"\",\n          isConfigurable: false,\n          categoryID: 1\n        });\n        setImage(false);\n        setIsConfigurable(false);\n        setAttributes([]);\n        setOptions([]);\n        setSkus([]);\n      } else {\n        alert(\"Failed to add product: \" + (data.errors || \"Unknown error\"));\n      }\n    } catch (error) {\n      console.error(\"Error adding product:\", error);\n      alert(\"Failed to add product. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addproduct\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-itemfield\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Product title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: productDetails.name,\n        onChange: changeHandler,\n        placeholder: \"Type here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-itemfield\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Product description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        value: productDetails.description,\n        onChange: changeHandler,\n        placeholder: \"Type here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-price\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addproduct-itemfield\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"old_price\",\n          value: productDetails.old_price,\n          onChange: changeHandler,\n          placeholder: \"Type here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addproduct-itemfield\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Offer Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"new_price\",\n          value: productDetails.new_price,\n          onChange: changeHandler,\n          placeholder: \"Type here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-itemfield\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Product category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: productDetails.category,\n        name: \"category\",\n        className: \"add-product-selector\",\n        onChange: changeHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"women\",\n          children: \"Women\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"men\",\n          children: \"Men\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"kid\",\n          children: \"Kid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-itemfield\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Category ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"categoryID\",\n        value: productDetails.categoryID,\n        onChange: changeHandler,\n        placeholder: \"Category ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-itemfield\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Product image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"file-input\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addproduct-thumbnail-img\",\n          src: !image ? upload_area : URL.createObjectURL(image),\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setImage(e.target.files[0]),\n        type: \"file\",\n        name: \"image\",\n        id: \"file-input\",\n        accept: \"image/*\",\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addproduct-configurable\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: isConfigurable,\n          onChange: toggleConfigurable\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), \"Is Configurable Product\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), isConfigurable && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"configurable-product-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Product Attributes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attribute-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Attribute Name\",\n          value: newAttribute.attributeName,\n          onChange: e => setNewAttribute({\n            ...newAttribute,\n            attributeName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Details\",\n          value: newAttribute.details,\n          onChange: e => setNewAttribute({\n            ...newAttribute,\n            details: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addAttribute,\n          children: \"Add Attribute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), attributes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attributes-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Added Attributes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }, this), attributes.map((attr, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"attribute-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: attr.attributeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 22\n            }, this), \": \", attr.details]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeAttribute(index),\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Product Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Option Name (e.g. Color)\",\n          value: newOption.option_name,\n          onChange: e => setNewOption({\n            ...newOption,\n            option_name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Values (comma separated, e.g. Red,Blue,Green)\",\n          value: newOption.values,\n          onChange: e => setNewOption({\n            ...newOption,\n            values: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addOption,\n          children: \"Add Option\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Added Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this), options.map((opt, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: opt.option_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 21\n            }, this), \": \", Array.isArray(opt.values) ? opt.values.join(', ') : opt.values]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeOption(index),\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage SKUs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateSkus,\n        children: \"Generate SKUs from Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this), skus.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skus-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Product SKUs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"skus-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Configuration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"SKU Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: skus.map((sku, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: Object.entries(sku.configurable_values).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [key, \": \", value, \", \"]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: sku.sku_code,\n                  onChange: e => updateSkuField(index, 'sku_code', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: sku.quantity,\n                  onChange: e => updateSkuField(index, 'quantity', parseInt(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: sku.price,\n                  onChange: e => updateSkuField(index, 'price', parseFloat(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeSku(index),\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"addproduct-btn\",\n      onClick: AddProduct,\n      children: \"ADD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(AddProduct, \"klYZ0zNhZ7Dbn7EHjoZh5d6T2AU=\");\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useState","upload_area","backend_url","jsxDEV","_jsxDEV","AddProduct","_s","image","setImage","isConfigurable","setIsConfigurable","attributes","setAttributes","options","setOptions","skus","setSkus","newAttribute","setNewAttribute","attributeName","details","newOption","setNewOption","option_name","values","productDetails","setProductDetails","name","description","category","new_price","old_price","categoryID","addAttribute","trim","addOption","valuesArray","split","map","val","generateSkus","validOptions","filter","option","length","alert","generateCombinations","optionIndex","currentCombination","basePrice","parseFloat","prev","configurable_values","sku_code","inventory_status","quantity","price","image_url","currentOption","value","newCombination","updateSkuField","index","field","updatedSkus","removeAttribute","newAttributes","splice","removeOption","newOptions","removeSku","newSkus","changeHandler","e","target","toggleConfigurable","dataObj","product","formData","FormData","append","fetch","method","headers","Accept","body","then","resp","json","data","success","response","JSON","stringify","errors","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","htmlFor","src","URL","createObjectURL","alt","files","id","accept","hidden","checked","onClick","attr","opt","Array","isArray","join","sku","Object","entries","key","parseInt","_c","$RefreshReg$"],"sources":["D:/WorkSpace/Website/ISI-Group6-Sunset/Full_Stack_Ecommerce/admin/src/Components/AddProduct/AddProduct.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./AddProduct.css\";\r\nimport upload_area from \"../Assets/upload_area.svg\";\r\nimport { backend_url } from \"../../App\";\r\n\r\nconst AddProduct = () => {\r\n  const [image, setImage] = useState(false);\r\n  const [isConfigurable, setIsConfigurable] = useState(false);\r\n  const [attributes, setAttributes] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const [skus, setSkus] = useState([]);\r\n  const [newAttribute, setNewAttribute] = useState({ attributeName: \"\", details: \"\" });\r\n  const [newOption, setNewOption] = useState({ option_name: \"\", values: \"\" });\r\n  \r\n  const [productDetails, setProductDetails] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n    category: \"women\",\r\n    new_price: \"\",\r\n    old_price: \"\",\r\n    isConfigurable: false,\r\n    categoryID: 1,\r\n  });\r\n\r\n  const addAttribute = () => {\r\n    if (newAttribute.attributeName.trim() === \"\") return;\r\n    setAttributes([...attributes, {\r\n      attributeName: newAttribute.attributeName,\r\n      details: newAttribute.details\r\n    }]);\r\n    setNewAttribute({ attributeName: \"\", details: \"\" });\r\n  };\r\n\r\n  const addOption = () => {\r\n    if (newOption.option_name.trim() === \"\") return;\r\n    // 将逗号分隔的值转换为数组\r\n    const valuesArray = newOption.values.split(',').map(val => val.trim());\r\n    setOptions([...options, {\r\n      option_name: newOption.option_name,\r\n      values: valuesArray\r\n    }]);\r\n    setNewOption({ option_name: \"\", values: \"\" });\r\n  };\r\n\r\n  const generateSkus = () => {\r\n    // 只处理有值的选项\r\n    const validOptions = options.filter(option => option.values.length > 0);\r\n    \r\n    if (validOptions.length === 0) {\r\n      alert(\"请先添加选项和值\");\r\n      return;\r\n    }\r\n    \r\n    // 递归生成所有可能的组合\r\n    const generateCombinations = (optionIndex = 0, currentCombination = {}) => {\r\n      if (optionIndex >= validOptions.length) {\r\n        // 基本价格使用主产品价格\r\n        const basePrice = parseFloat(productDetails.new_price) || 0;\r\n        \r\n        setSkus(prev => [...prev, {\r\n          configurable_values: { ...currentCombination },\r\n          sku_code: `SKU-${skus.length + 1}`,\r\n          inventory_status: \"in_stock\",\r\n          quantity: 0,\r\n          price: basePrice,\r\n          image_url: \"\"\r\n        }]);\r\n        return;\r\n      }\r\n      \r\n      const currentOption = validOptions[optionIndex];\r\n      for (const value of currentOption.values) {\r\n        const newCombination = { ...currentCombination };\r\n        newCombination[currentOption.option_name] = value;\r\n        generateCombinations(optionIndex + 1, newCombination);\r\n      }\r\n    };\r\n    \r\n    // 清空当前SKUs并生成新的\r\n    setSkus([]);\r\n    generateCombinations();\r\n  };\r\n\r\n  const updateSkuField = (index, field, value) => {\r\n    const updatedSkus = [...skus];\r\n    updatedSkus[index][field] = value;\r\n    setSkus(updatedSkus);\r\n  };\r\n\r\n  const removeAttribute = (index) => {\r\n    const newAttributes = [...attributes];\r\n    newAttributes.splice(index, 1);\r\n    setAttributes(newAttributes);\r\n  };\r\n\r\n  const removeOption = (index) => {\r\n    const newOptions = [...options];\r\n    newOptions.splice(index, 1);\r\n    setOptions(newOptions);\r\n  };\r\n\r\n  const removeSku = (index) => {\r\n    const newSkus = [...skus];\r\n    newSkus.splice(index, 1);\r\n    setSkus(newSkus);\r\n  };\r\n\r\n  const changeHandler = (e) => {\r\n    setProductDetails({ ...productDetails, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const toggleConfigurable = () => {\r\n    setIsConfigurable(!isConfigurable);\r\n    setProductDetails({ ...productDetails, isConfigurable: !isConfigurable });\r\n  };\r\n\r\n  const AddProduct = async () => {\r\n    let dataObj;\r\n    let product = { ...productDetails };\r\n\r\n    // 处理图片上传\r\n    if (image) {\r\n      let formData = new FormData();\r\n      formData.append('product', image);\r\n\r\n      await fetch(`${backend_url}/api/upload`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Accept: 'application/json',\r\n        },\r\n        body: formData,\r\n      }).then((resp) => resp.json())\r\n        .then((data) => { dataObj = data });\r\n\r\n      if (dataObj.success) {\r\n        product.image = dataObj.image_url;\r\n      } else {\r\n        alert(\"Image upload failed\");\r\n        return;\r\n      }\r\n    } else {\r\n      alert(\"Please select an image\");\r\n      return;\r\n    }\r\n\r\n    // 如果是可配置产品，添加属性、选项和SKU\r\n    if (isConfigurable) {\r\n      product.attributes = attributes;\r\n      product.options = options;\r\n      product.skus = skus;\r\n    }\r\n\r\n    // 发送产品数据到后端\r\n    try {\r\n      const response = await fetch(`${backend_url}/api/products/add`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(product),\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        alert(\"Product Added Successfully\");\r\n        \r\n        // 重置表单\r\n        setProductDetails({\r\n          name: \"\",\r\n          description: \"\",\r\n          image: \"\",\r\n          category: \"women\",\r\n          new_price: \"\",\r\n          old_price: \"\",\r\n          isConfigurable: false,\r\n          categoryID: 1,\r\n        });\r\n        setImage(false);\r\n        setIsConfigurable(false);\r\n        setAttributes([]);\r\n        setOptions([]);\r\n        setSkus([]);\r\n      } else {\r\n        alert(\"Failed to add product: \" + (data.errors || \"Unknown error\"));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding product:\", error);\r\n      alert(\"Failed to add product. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"addproduct\">\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product title</p>\r\n        <input type=\"text\" name=\"name\" value={productDetails.name} onChange={changeHandler} placeholder=\"Type here\" />\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product description</p>\r\n        <input type=\"text\" name=\"description\" value={productDetails.description} onChange={changeHandler} placeholder=\"Type here\" />\r\n      </div>\r\n      <div className=\"addproduct-price\">\r\n        <div className=\"addproduct-itemfield\">\r\n          <p>Price</p>\r\n          <input type=\"number\" name=\"old_price\" value={productDetails.old_price} onChange={changeHandler} placeholder=\"Type here\" />\r\n        </div>\r\n        <div className=\"addproduct-itemfield\">\r\n          <p>Offer Price</p>\r\n          <input type=\"number\" name=\"new_price\" value={productDetails.new_price} onChange={changeHandler} placeholder=\"Type here\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product category</p>\r\n        <select value={productDetails.category} name=\"category\" className=\"add-product-selector\" onChange={changeHandler}>\r\n          <option value=\"women\">Women</option>\r\n          <option value=\"men\">Men</option>\r\n          <option value=\"kid\">Kid</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Category ID</p>\r\n        <input type=\"number\" name=\"categoryID\" value={productDetails.categoryID} onChange={changeHandler} placeholder=\"Category ID\" />\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product image</p>\r\n        <label htmlFor=\"file-input\">\r\n          <img className=\"addproduct-thumbnail-img\" src={!image ? upload_area : URL.createObjectURL(image)} alt=\"\" />\r\n        </label>\r\n        <input onChange={(e) => setImage(e.target.files[0])} type=\"file\" name=\"image\" id=\"file-input\" accept=\"image/*\" hidden />\r\n      </div>\r\n      \r\n      {/* 可配置产品开关 */}\r\n      <div className=\"addproduct-configurable\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\"\r\n            checked={isConfigurable}\r\n            onChange={toggleConfigurable}\r\n          />\r\n          Is Configurable Product\r\n        </label>\r\n      </div>\r\n      \r\n      {/* 可配置产品特有部分 */}\r\n      {isConfigurable && (\r\n        <div className=\"configurable-product-section\">\r\n          <h3>Product Attributes</h3>\r\n          <div className=\"attribute-input\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Attribute Name\"\r\n              value={newAttribute.attributeName}\r\n              onChange={(e) => setNewAttribute({...newAttribute, attributeName: e.target.value})}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Details\"\r\n              value={newAttribute.details}\r\n              onChange={(e) => setNewAttribute({...newAttribute, details: e.target.value})}\r\n            />\r\n            <button onClick={addAttribute}>Add Attribute</button>\r\n          </div>\r\n          \r\n          {attributes.length > 0 && (\r\n            <div className=\"attributes-list\">\r\n              <h4>Added Attributes</h4>\r\n              {attributes.map((attr, index) => (\r\n                <div key={index} className=\"attribute-item\">\r\n                  <p><strong>{attr.attributeName}</strong>: {attr.details}</p>\r\n                  <button onClick={() => removeAttribute(index)}>Remove</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          \r\n          <h3>Product Options</h3>\r\n          <div className=\"option-input\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Option Name (e.g. Color)\"\r\n              value={newOption.option_name}\r\n              onChange={(e) => setNewOption({...newOption, option_name: e.target.value})}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Values (comma separated, e.g. Red,Blue,Green)\"\r\n              value={newOption.values}\r\n              onChange={(e) => setNewOption({...newOption, values: e.target.value})}\r\n            />\r\n            <button onClick={addOption}>Add Option</button>\r\n          </div>\r\n          \r\n          {options.length > 0 && (\r\n            <div className=\"options-list\">\r\n              <h4>Added Options</h4>\r\n              {options.map((opt, index) => (\r\n                <div key={index} className=\"option-item\">\r\n                  <p>\r\n                    <strong>{opt.option_name}</strong>: {Array.isArray(opt.values) ? opt.values.join(', ') : opt.values}\r\n                  </p>\r\n                  <button onClick={() => removeOption(index)}>Remove</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          \r\n          <h3>Manage SKUs</h3>\r\n          <button onClick={generateSkus}>Generate SKUs from Options</button>\r\n          \r\n          {skus.length > 0 && (\r\n            <div className=\"skus-list\">\r\n              <h4>Product SKUs</h4>\r\n              <table className=\"skus-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Configuration</th>\r\n                    <th>SKU Code</th>\r\n                    <th>Quantity</th>\r\n                    <th>Price</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {skus.map((sku, index) => (\r\n                    <tr key={index}>\r\n                      <td>\r\n                        {Object.entries(sku.configurable_values).map(([key, value]) => (\r\n                          <span key={key}>{key}: {value}, </span>\r\n                        ))}\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={sku.sku_code}\r\n                          onChange={(e) => updateSkuField(index, 'sku_code', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={sku.quantity}\r\n                          onChange={(e) => updateSkuField(index, 'quantity', parseInt(e.target.value))}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={sku.price}\r\n                          onChange={(e) => updateSkuField(index, 'price', parseFloat(e.target.value))}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <button onClick={() => removeSku(index)}>Remove</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      <button className=\"addproduct-btn\" onClick={AddProduct}>ADD</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}